# Supabase Self-Hosted Environment Variables for Shiksha
# Copy this file to .env and update the values

############
# Secrets - CHANGE THESE IN PRODUCTION!
############

# Generate with: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-token-with-at-least-32-characters

# Generate with: openssl rand -base64 32
POSTGRES_PASSWORD=your-super-secret-database-password

# Supabase Keys - Generate using https://supabase.com/docs/guides/self-hosting#api-keys
# Or use: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ANON_KEY=your-anon-key-here
SERVICE_ROLE_KEY=your-service-role-key-here

############
# Database
############
POSTGRES_USER=postgres
POSTGRES_DB=postgres
POSTGRES_PORT=5432

############
# API Configuration
############

# The external URL your users will access (with Kong port)
API_EXTERNAL_URL=http://localhost:8000

# The frontend site URL
SITE_URL=http://localhost:3000

# Additional redirect URLs (comma separated)
ADDITIONAL_REDIRECT_URLS=http://localhost:3000

# JWT expiry in seconds (default 1 hour)
JWT_EXP=3600

############
# PostgREST
############
PGRST_DB_SCHEMAS=public,school
PGRST_PORT=3001

############
# Kong
############
KONG_HTTP_PORT=8000
KONG_HTTPS_PORT=8443

############
# GoTrue (Auth)
############
GOTRUE_PORT=9999
DISABLE_SIGNUP=false
ENABLE_EMAIL_SIGNUP=true
ENABLE_EMAIL_AUTOCONFIRM=true

# SMTP Configuration (for email features)
SMTP_HOST=smtp.mailgun.org
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_ADMIN_EMAIL=admin@shiksha.local

############
# Storage
############
STORAGE_PORT=5000

############
# Studio
############
STUDIO_PORT=3333

############
# Meta
############
META_PORT=8080

############
# Image Proxy
############
IMGPROXY_PORT=5001

############
# Realtime
############
REALTIME_PORT=4000
# Generate with: openssl rand -base64 32
REALTIME_DB_ENC_KEY=supabase-realtime-enc-key
# Generate with: mix phx.gen.secret
REALTIME_SECRET_KEY_BASE=supabase-realtime-secret-base-64-characters-minimum-for-security
